(function(){"use strict";var t={6538:function(t,e,i){var a=i(7195),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],s=(i(560),{name:"App",created(){this.$router.push("/")}}),c=s,r=i(1001),u=(0,r.Z)(c,n,o,!1,null,null,null),l=u.exports,d=i(2241),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[t.isloading?e("loader-vue"):t._e(),t.isVisible?e("div",[e("h4",{staticClass:"heading"},[t._v(" When do you wish to create the expenses Sales Person Commissions ? ")]),e("div",{staticClass:"flex-row"},[e("radiobutton-vue",{attrs:{id:"sent-radio",label:"When an Invoice is Sent",name:t.invoiceStatusRadioGroupName,checked:t.status,value:"sent"},on:{"update:selectedValue":function(e){t.status=e}}}),e("radiobutton-vue",{attrs:{id:"paid-radio",label:"When an Invoice is Paid",name:t.invoiceStatusRadioGroupName,checked:t.status,value:"paid"},on:{"update:selectedValue":function(e){t.status=e}}})],1),e("div",{staticClass:"container"},[e("div",{staticClass:"container"},[e("h5",{staticClass:"side-heading"},[t._v("Commission Type")]),e("div",{staticClass:"flex-row"},[e("radiobutton-vue",{attrs:{id:"percentage-radio",label:"Percentage",name:t.comissionTypeRadioGroupName,checked:t.type,value:"Percentage"},on:{"update:selectedValue":function(e){t.type=e}}}),e("radiobutton-vue",{attrs:{id:"amount-radio",label:"Amount",name:t.comissionTypeRadioGroupName,checked:t.type,value:"Amount"},on:{"update:selectedValue":function(e){t.type=e}}})],1)]),e("div",{staticClass:"container"},[e("h5",{staticClass:"side-heading"},[t._v("Commission Rate")]),e("input-vue",{attrs:{width:"w-25",label:t.type,type:"number"},model:{value:t.commission,callback:function(e){t.commission=e},expression:"commission"}})],1),"sent"===t.status?e("div",{staticClass:"container"},[e("h5",{staticClass:"side-heading"},[t._v(" Select the paid through account for expense created ")]),e("dropdown-vue",{attrs:{title:t.paidAccountlabel,width:t.dropdown_width}},[e("dropdown-container-vue",{attrs:{max_height:t.dropdown_maxHeight}},t._l(t.paidAccountArray,(function(i,a){return e("dropdown-item-vue",{key:a,attrs:{value:i.id,label:i.text,updatedValue:t.paid_account_id},on:{"custom-event":t.handlePaidAccountCustomEvent}})})),1)],1)],1):t._e(),e("div",{staticClass:"container"},[e("h5",{staticClass:"side-heading"},[t._v("Select the expense account")]),e("dropdown-vue",{attrs:{title:t.expenseAccountlabel,width:t.dropdown_width}},[e("dropdown-container-vue",{attrs:{max_height:t.dropdown_maxHeight}},t._l(t.expenseAccountArray,(function(i,a){return e("dropdown-item-vue",{key:a,attrs:{value:i.id,label:i.text,updatedValue:t.expense_account_id},on:{"custom-event":t.handleExpenseAccountCustomEvent}})})),1)],1)],1),e("div",{staticClass:"container"},[e("h5",{staticClass:"side-heading"},[t._v("Commission Specification")]),e("div",{staticClass:"flex-row"},[e("radiobutton-vue",{attrs:{id:"subtotal-radio",label:"Commission on SubTotal",name:t.specificationRadioGroupName,checked:t.specification_type,value:"SubTotal"},on:{"update:selectedValue":function(e){t.specification_type=e}}}),e("radiobutton-vue",{attrs:{id:"total-radio",label:"Commission on Total",name:t.specificationRadioGroupName,checked:t.specification_type,value:"Total"},on:{"update:selectedValue":function(e){t.specification_type=e}}})],1)])])]):t._e()],1)},h=[],v=function(){var t=this,e=t._self._c;return e("div",[e("input",t._b({staticClass:"mx-5 my-4 form-control",class:t.width,attrs:{placeholder:t.label},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1))])},m=[],_={name:"inputField",props:{width:{type:String,defalut:""},label:{type:String,default:""},value:{type:[String,Number],default:""}}},f=_,g=(0,r.Z)(f,v,m,!1,null,"21c5455d",null),w=g.exports,y=function(){var t=this,e=t._self._c;return e("div",[e("input",{staticClass:"form-check-input",attrs:{id:t.id,type:"radio",name:t.name},domProps:{value:t.value,checked:t.value===t.checked},on:{change:t.updateSelectedValue}}),e("label",{staticClass:"form-check-label",attrs:{for:t.id}},[t._v(t._s(t.label))])])},b=[],x={name:"radioButton",props:{name:{type:String,default:""},id:{type:String,default:""},label:{type:String,default:""},value:{type:String,default:""},checked:{type:String},selectedValue:{type:String,default:""}},methods:{updateSelectedValue(){this.$emit("update:selectedValue",this.value)}}},S=x,A=(0,r.Z)(S,y,b,!1,null,"054e648d",null),C=A.exports,P=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.usersToggle,expression:"usersToggle"}],staticClass:"content-continer"},[e("div",{staticClass:"select-result",style:t.style},[t._t("default")],2)])},k=[],T={name:"DropDownContent",inject:["dropDownWidth"],props:{max_height:{type:String,default:""}},data(){return{size:this.dropDownWidth,maxHeight:this.max_height}},setup(){const t=(0,a.f3)("usersToggle");return{usersToggle:t}},computed:{style(){return{width:this.size,"max-height":this.maxHeight}}}},V=T,Z=(0,r.Z)(V,P,k,!1,null,"95576b6e",null),O=Z.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"option-container"},[e("div",{staticClass:"result",class:t.isActive?"active":"",attrs:{value:t.value,label:t.label},on:{click:t.emitCustomEvent}},[t._v(t._s(t.label)+" ")]),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"tick",attrs:{src:i(6171)}}),t._t("default")],2)},z=[],$={name:"DropDownItems",props:{label:{type:String},value:{type:String},updatedValue:{type:String}},data(){return{isActive:!1}},watch:{updatedValue:function(t){t===this.value?this.isActive=!0:this.isActive=!1},immediate:!0},methods:{emitCustomEvent(t){this.$emit("custom-event",t)},changeClass(t){t===this.value?this.isActive=!0:this.isActive=!1}},mounted:function(){this.changeClass(this.updatedValue)}},E=$,G=(0,r.Z)(E,N,z,!1,null,"3ab6dd98",null),R=G.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box",on:{click:t.showUsers}},[e("button",{staticClass:"form-control selected",style:t.style},[t._v(t._s(t.title))]),t._t("default")],2)},J=[],M={name:"DropDown",props:{title:String,width:{type:String,defalut:""}},computed:{style(){return"width:"+this.size}},setup(t){const e=(0,a.iH)(!1),i=()=>{e.value=!e.value};return(0,a.JJ)("usersToggle",e),(0,a.JJ)("dropDownWidth",t.width),{usersToggle:e,showUsers:i}},data(){return{size:this.width}}},D=M,I=(0,r.Z)(D,F,J,!1,null,"27d994c5",null),j=I.exports,q=function(){var t=this;t._self._c;return t._m(0)},H=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"load-circle1"}),e("div",{staticClass:"load-circle2"}),e("div",{staticClass:"load-circle3"}),e("div",{staticClass:"load-circle4"}),e("div",{staticClass:"load-circle5"})])}],W={},U=(0,r.Z)(W,q,H,!1,null,"318e4356",null),L=U.exports,B={name:"HomeView",components:{inputVue:w,radiobuttonVue:C,dropdownVue:j,dropdownContainerVue:O,dropdownItemVue:R,loaderVue:L},data(){return{isloading:!0,isVisible:!1,status:"sent",invoiceStatusRadioGroupName:"invoiceStatusGroup",type:"Percentage",comissionTypeRadioGroupName:"comissionTypeGroup",commission:"",paidAccountArray:[],expenseAccountArray:[],dropdown_width:"250px",dropdown_maxHeight:"180px",paidAccountlabel:"Select",expenseAccountlabel:"Select",paid_account_id:"",expense_account_id:"",specification_type:"SubTotal",specificationRadioGroupName:"specificationGroup"}},methods:{handlePaidAccountCustomEvent(t){this.paid_account_id=t.target.getAttribute("value"),this.paidAccountlabel=t.target.getAttribute("label")},handleExpenseAccountCustomEvent(t){this.expense_account_id=t.target.getAttribute("value"),this.expenseAccountlabel=t.target.getAttribute("label")}},created:async function(){let{organization:t}=JSON.parse(this.$appMeta.organizationMap),e=this.$appMeta.domainURL,i=this.$appMeta.orgVariablePlaceholder,a=async t=>{await window.ZFAPPS.invoke("SHOW_NOTIFICATION",{type:"error",message:t})},n=async()=>{try{let i={url:`${e}/autocomplete/paidthroughaccountslist`,method:"GET",url_query:[{key:"organization_id",value:t.organization_id}],connection_link_name:this.$appMeta.connection_link_name},{data:{body:a}}=await window.ZFAPPS.request(i),{results:n}=JSON.parse(a);this.paidAccountArray=n}catch(i){await a(i)}},o=async()=>{try{let i={url:`${e}/autocomplete/expenseaccountslist`,method:"GET",url_query:[{key:"organization_id",value:t.organization_id}],connection_link_name:this.$appMeta.connection_link_name},{data:{body:a}}=await window.ZFAPPS.request(i),{results:n}=JSON.parse(a);this.expenseAccountArray=n}catch(i){await a(i)}},s=async()=>{try{let a={url:`${e}/settings/orgvariables/${i}`,method:"GET",url_query:[{key:"organization_id",value:t.organization_id}],connection_link_name:this.$appMeta.connection_link_name},{data:{body:n}}=await window.ZFAPPS.request(a),{orgvariable:{value:o}}=JSON.parse(n);if(""!==o){o=JSON.parse(o);let{status:t,commission:e,type:i,specification_type:a,paid_through_account:n,expense_account:s}=o;Object.assign(this,{status:t,commission:e,type:i,specification_type:a,paid_through_account:n,expense_account:s}),this.paid_account_id=this.paid_through_account.id,this.paidAccountlabel=this.paid_through_account.text,this.expense_account_id=this.expense_account.id,this.expenseAccountlabel=this.expense_account.text}}catch(n){await a(n)}};await n(),await o(),await s(),this.isloading=!1,this.isVisible=!0,window.zapp.instance.on("ON_SETTINGS_WIDGET_PRE_SAVE",(async()=>{if(void 0===this.commission)return await a("Commission Rate cannot be empty"),{prevent_save:!0};if("paid"===this.status){let t=await c("paid");if(t)return{prevent_save:!0};await r()}else{let t=await c("sent");if(t)return{prevent_save:!0};await r()}}));let c=async t=>""===this.expense_account_id?(await a("Please select the Expense Account"),!0):"paid"!==t&&""===this.paid_account_id?(await a("Please select the Paid Through Account"),!0):void 0,r=async()=>{let a={},{status:n,expense_account:o,paid_through_account:s,type:c,commission:r,specification_type:u}=this;Object.assign(a,{status:n,expense_account:o,type:c,commission:r,specification_type:u,paid_through_account:s});let l={value:a};window.ZFAPPS.request({url:`${e}/settings/orgvariables/${i}`,method:"PUT",url_query:[{key:"organization_id",value:t.organization_id}],body:{mode:"formdata",formdata:[{key:"JSONString",value:JSON.stringify(l)}]},connection_link_name:this.$appMeta.connection_link_name})}}},K=B,Q=(0,r.Z)(K,p,h,!1,null,"512b2606",null),X=Q.exports;a.ZP.use(d.ZP);const Y=[{path:"/",name:"home",component:X}],tt=new d.ZP({mode:"hash",base:"",routes:Y});console.log("base"+tt);var et=tt;async function it(){window.ZFAPPS&&window.ZFAPPS.extension.init().then((async t=>{window.ZFAPPS.invoke("RESIZE",{width:"550px",height:"600px"});const e=await window.ZFAPPS.get("organization"),{organization:{api_root_endpoint:i}}=e;window.zapp=t,a.ZP.prototype.$appMeta={organizationMap:JSON.stringify(e),domainURL:i,connection_link_name:"salesperson_commission_books",orgVariablePlaceholder:"vl__u76nt_data_store"},new a.ZP({zapp:t,router:et,ZFAPPS:window.ZFAPPS,render:t=>t(l)}).$mount("#app")}))}a.ZP.config.productionTip=!1,it()},6171:function(t,e,i){t.exports=i.p+"img/tick.f0347882.svg"}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,a,n,o){if(!a){var s=1/0;for(l=0;l<t.length;l++){a=t[l][0],n=t[l][1],o=t[l][2];for(var c=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](a[r])}))?a.splice(r--,1):(c=!1,o<s&&(s=o));if(c){t.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[a,n,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p=""}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,s=a[0],c=a[1],r=a[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(n in c)i.o(c,n)&&(i.m[n]=c[n]);if(r)var l=r(i)}for(e&&e(a);u<s.length;u++)o=s[u],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(l)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(6538)}));a=i.O(a)})();
//# sourceMappingURL=app.29abeee3.js.map